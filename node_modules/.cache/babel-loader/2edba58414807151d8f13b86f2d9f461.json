{"ast":null,"code":"var _jsxFileName = \"D:\\\\HTML\\\\43-react-star-wars\\\\src\\\\components\\\\AboutMe.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport styles from \"../css_modules/aboutMe.module.css\";\nimport { useParams } from 'react-router-dom';\nimport { characters, defaultHero, friends, periodMonth } from \"../utils/constants\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AboutMe = _ref => {\n  _s();\n\n  let {\n    changeHero\n  } = _ref;\n  const [state, setState] = useState({});\n  let {\n    heroId\n  } = useParams();\n\n  if (!friends.includes(heroId)) {\n    heroId = defaultHero;\n  }\n\n  useEffect(() => {\n    let hero = JSON.parse(localStorage.getItem(heroId));\n\n    if (!hero || Date.now() - hero.time > periodMonth) {\n      fetch(characters[heroId].url).then(response => response.json()).then(data => {\n        let info = {\n          \"name\": data.name,\n          \"height\": data.height,\n          \"mass\": data.mass,\n          \"hair_color\": data.hair_color,\n          \"skin_color\": data.skin_color,\n          \"eye_color\": data.eye_color,\n          \"birth_year\": data.birth_year,\n          \"gender\": data.gender\n        };\n        setState({\n          hero: info\n        });\n        hero = {\n          payload: info,\n          time: Date.now()\n        };\n        localStorage.setItem(heroId, JSON.stringify(hero));\n      });\n    } else {\n      setState({\n        hero: hero.payload\n      });\n    }\n\n    return () => console.log('Component AboutMe unmounted');\n  }, [heroId, changeHero]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: state.hero && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `farGalaxy ${styles.hero_box}`,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.hero_titles,\n          children: \"name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 14\n        }, this), \" \", state.hero.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.hero_titles,\n          children: \"height:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 14\n        }, this), \" \", state.hero.height]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.hero_titles,\n          children: \"birth year:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 14\n        }, this), \" \", state.hero.birth_year]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.hero_titles,\n          children: \"gender:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 14\n        }, this), \" \", state.hero.gender]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.hero_titles,\n          children: \"mass:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 14\n        }, this), \" \", state.hero.mass]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.hero_titles,\n          children: \"hair color:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 14\n        }, this), \" \", state.hero.hair_color]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.hero_titles,\n          children: \"skin color:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 14\n        }, this), \" \", state.hero.skin_color]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.hero_titles,\n          children: \"eye color:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 14\n        }, this), \" \", state.hero.eye_color]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AboutMe, \"dbR0VZrvoug4G6o2CRlt348jYbg=\", false, function () {\n  return [useParams];\n});\n\n_c = AboutMe;\nexport default AboutMe;\n\nvar _c;\n\n$RefreshReg$(_c, \"AboutMe\");","map":{"version":3,"names":["React","useEffect","useState","styles","useParams","characters","defaultHero","friends","periodMonth","AboutMe","changeHero","state","setState","heroId","includes","hero","JSON","parse","localStorage","getItem","Date","now","time","fetch","url","then","response","json","data","info","name","height","mass","hair_color","skin_color","eye_color","birth_year","gender","payload","setItem","stringify","console","log","hero_box","hero_titles"],"sources":["D:/HTML/43-react-star-wars/src/components/AboutMe.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styles from \"../css_modules/aboutMe.module.css\";\nimport { useParams } from 'react-router-dom'\nimport { characters, defaultHero, friends, periodMonth } from \"../utils/constants\";\n\nconst AboutMe = ({ changeHero }) => {\n  const [state, setState] = useState({});\n  let { heroId } = useParams();\n  if (!friends.includes(heroId)) {\n    heroId = defaultHero;\n  }\n\n  useEffect(() => {\n    let hero = JSON.parse(localStorage.getItem(heroId));\n    if (!hero || (Date.now() - hero.time) > periodMonth) {\n      fetch(characters[heroId].url)\n        .then(response => response.json())\n        .then(data => {\n          let info = {\n            \"name\": data.name,\n            \"height\": data.height,\n            \"mass\": data.mass,\n            \"hair_color\": data.hair_color,\n            \"skin_color\": data.skin_color,\n            \"eye_color\": data.eye_color,\n            \"birth_year\": data.birth_year,\n            \"gender\": data.gender\n          };\n          setState({ hero: info });\n          hero = {\n            payload: info,\n            time: Date.now()\n          };\n          localStorage.setItem(heroId, JSON.stringify(hero));\n        });\n    } else {\n      setState({ hero: hero.payload });\n    }\n    return () => console.log('Component AboutMe unmounted');\n  }, [heroId, changeHero])\n\n  return (\n    <div>\n      {(state.hero) &&\n        <div className={`farGalaxy ${styles.hero_box}`}>\n          <p><span className={styles.hero_titles}>name:</span> {state.hero.name}</p>\n          <p><span className={styles.hero_titles}>height:</span> {state.hero.height}</p>\n          <p><span className={styles.hero_titles}>birth year:</span> {state.hero.birth_year}</p>\n          <p><span className={styles.hero_titles}>gender:</span> {state.hero.gender}</p>\n          <p><span className={styles.hero_titles}>mass:</span> {state.hero.mass}</p>\n          <p><span className={styles.hero_titles}>hair color:</span> {state.hero.hair_color}</p>\n          <p><span className={styles.hero_titles}>skin color:</span> {state.hero.skin_color}</p>\n          <p><span className={styles.hero_titles}>eye color:</span> {state.hero.eye_color}</p>\n        </div>\n      }\n    </div>\n  )\n\n\n}\n\nexport default AboutMe;"],"mappings":"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"},"metadata":{},"sourceType":"module"}